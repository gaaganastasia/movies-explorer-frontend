{"version":3,"sources":["images/header-logo.svg","images/profile.svg","components/Header/Header.js","images/landing-logo.svg","components/Promo/Promo.js","components/AboutProject/AboutProject.js","components/Techs/Techs.js","images/photo.jpg","components/AboutMe/AboutMe.js","images/link-icon.svg","components/Portfolio/Portfolio.js","components/Main/Main.js","components/Preloader/Preloader.js","components/FilterCheckbox/FilterCheckbox.js","components/SearchForm/SearchForm.js","contexts/CurrentUserContext.js","components/MoviesCard/MoviesCard.js","components/MoviesCardList/MoviesCardList.js","components/Movies/Movies.js","components/SavedMovies/SavedMovies.js","components/Validator/Validator.js","components/Profile/Profile.js","components/Login/Login.js","components/Register/Register.js","components/Footer/Footer.js","components/PageNotFound/PageNotFound.js","components/Navigation/Navigation.js","utils/MoviesApi.js","utils/MainApi.js","components/ProtectedRoute/ProtectedRoute.js","components/App/App.js","utils/constants.js","index.js"],"names":["Header","props","useRouteMatch","headerClassName","path","url","history","location","pathname","className","alt","src","headerLogo","loggedIn","type","onClick","changeNavState","aria-labelledby","aria-label","to","accountIcon","Promo","promoLogo","href","AboutProject","id","Techs","AboutMe","photo","target","rel","Portfolio","linkIcon","Main","Preloader","FilterCheckbox","handleCheckboxState","SearchForm","movieRef","React","useRef","useState","isValid","setIsValid","method","action","name","onSubmit","e","movies","preventDefault","current","value","setClickNumber","controlCardsQuantity","setErr","setServerErr","checkboxState","filter","movie","nameRU","toLowerCase","indexOf","duration","localStorage","setItem","JSON","stringify","setMovies","length","noValidate","htmlFor","placeholder","ref","required","CurrentUserContext","createContext","MoviesCard","currentUser","useContext","isSaved","savedMovies","some","m","movieId","owner","_id","Math","trunc","window","onSave","trailerLink","trailer","image","MoviesCardList","useEffect","getSavedMovies","map","i","ShortMovieDuration","changeMovieState","slice","cardsQuantity","Movies","screenWidth","clickNumber","getMovies","actualMovies","parse","getItem","searchedMovies","setSearchedMovies","isNotFoundErrVisible","setIsNotFoundErrVisible","isLoading","serverErr","SavedMovies","setUsersMovies","valueOf","usersMovies","useFormWithValidation","values","setValues","errors","setErrors","resetForm","useCallback","newValues","newErrors","newIsValid","handleChange","event","validationMessage","closest","checkValidity","Profile","validator","isFormStateActive","setIsFormStateActive","onUpdateUserInfo","email","onChange","minLength","disabled","isFormDisabled","isErrorVisible","isMessageVisible","error","message","setIsMessageVisible","setMessage","setIsErrorVisible","setError","onLogOut","removeItem","withRouter","formLogo","password","onLogin","onRegister","Footer","year","Date","getFullYear","PageNotFound","goBack","Navigation","isOpen","changeState","handleOriginalResponse","res","ok","json","Promise","reject","status","handleError","err","api","options","this","_url","_headers","headers","fetch","then","catch","Accept","Authorization","body","country","String","director","Number","description","nameEN","thumbnail","formats","userEmail","userName","data","token","jwt","ProtectedRoute","Component","component","App","useHistory","setLoggedIn","setCurrentUser","setIsFormDisabled","mainApi","checkToken","tokenCheck","isNavOpen","setNavState","setIsLoading","moviesApi","getInitialMovies","initialMovies","finally","setSavedMovies","reverse","handleMovieState","deleteMovie","find","newMovie","saveMovie","innerWidth","setScreenWidth","getScreenWidth","handleScreenWidth","addEventListener","setTimeout","setCardsQuantity","n","setCheckboxState","Provider","exact","push","setProfileInfo","authorize","register","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8509064a.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.250bb8ba.svg\";","export default __webpack_public_path__ + \"static/media/profile.c9f114e1.svg\";","import React from \"react\";\r\nimport headerLogo from \"../../images/header-logo.svg\";\r\nimport \"./Header.css\";\r\nimport { Link, useRouteMatch } from \"react-router-dom\";\r\nimport accountIcon from \"../../images/profile.svg\";\r\n\r\nfunction Header(props) {\r\n  const { path, url } = useRouteMatch();\r\n\r\n  const headerClassName = `header ${\r\n    props.history.location.pathname === \"/movies-explorer-frontend/\"\r\n      ? `header_landing header_visible`\r\n      : ``\r\n  } \r\n  ${\r\n    props.history.location.pathname === \"/movies-explorer-frontend/profile\" ||\r\n    props.history.location.pathname === \"/movies-explorer-frontend/saved-movies\" ||\r\n    props.history.location.pathname === \"/movies-explorer-frontend/movies\"\r\n      ? `header_visible`\r\n      : ``\r\n  }`;\r\n\r\n  return (\r\n    <div className={headerClassName}>\r\n      <img\r\n        alt=\"Логотип сервиса\"\r\n        src={headerLogo}\r\n        className=\"header__logo\"\r\n      ></img>\r\n      {props.loggedIn ? (\r\n        <>\r\n          <button\r\n            type=\"button\"\r\n            className=\"header__nav-icon\"\r\n            onClick={props.changeNavState}\r\n          ></button>\r\n          <ul\r\n            className=\"header__nav\"\r\n            aria-labelledby=\"menu\"\r\n            aria-label=\"submenu\"\r\n          >\r\n            <li className=\"header__nav-element\">\r\n              <Link\r\n                to=\"/movies-explorer-frontend/movies\"\r\n                className={`header__movies ${\r\n                  props.history.location.pathname === \"/movies-explorer-frontend/movies\"\r\n                    ? `header__movies_active`\r\n                    : ``\r\n                }`}\r\n              >\r\n                Фильмы\r\n              </Link>\r\n            </li>\r\n            <li className=\"header__nav-element\">\r\n              <Link\r\n                to=\"/movies-explorer-frontend/saved-movies\"\r\n                className={`header__saved-movies ${\r\n                  props.history.location.pathname === \"/movies-explorer-frontend/saved-movies\"\r\n                    ? `header__saved-movies_active`\r\n                    : ``\r\n                }`}\r\n              >\r\n                Сохранённые фильмы\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n          <ul className=\"header__nav\">\r\n            <li className=\"header__nav-element\">\r\n              <Link to=\"/movies-explorer-frontend/profile\">\r\n                <img\r\n                  className=\"header__account-icon\"\r\n                  src={accountIcon}\r\n                  alt=\"Иконка аккаунта\"\r\n                ></img>\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <ul\r\n            className=\"header__nav header__nav_landing\"\r\n            aria-labelledby=\"menu\"\r\n            aria-label=\"submenu\"\r\n          >\r\n            <li className=\"header__nav-element\">\r\n              <Link to=\"/movies-explorer-frontend/signup\" className=\"header__register\">\r\n                Регистрация\r\n              </Link>\r\n            </li>\r\n            <li className=\"header__nav-element\">\r\n              <Link to=\"/movies-explorer-frontend/signin\" className=\"header__login\">\r\n                Войти\r\n              </Link>\r\n            </li>\r\n          </ul>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/landing-logo.bf2d5da6.svg\";","import React from \"react\";\r\nimport \"./Promo.css\";\r\nimport promoLogo from \"../../images/landing-logo.svg\";\r\n\r\nfunction Promo() {\r\n  return (\r\n    <div className=\"promo\">\r\n      <div className=\"promo__block\">\r\n        <h1 className=\"promo__title\">\r\n          Учебный проект студента факультета Веб-разработки.\r\n        </h1>\r\n        <p className=\"promo__subtitle\">\r\n          Листайте ниже, чтобы узнать больше про этот проект и его создателя.\r\n        </p>\r\n        <img\r\n          alt=\"Картинка для привлечения внимания\"\r\n          className=\"promo__img\"\r\n          src={promoLogo}\r\n        ></img>\r\n      </div>\r\n      <a className=\"promo__btn\" href=\"#about-project\">\r\n        Узнать больше\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Promo;\r\n","import React from \"react\";\r\nimport \"./AboutProject.css\";\r\n\r\nfunction AboutProject() {\r\n  return (\r\n    <div className=\"about-project\" id=\"about-project\">\r\n      <h2 className=\"about-project__header\">О проекте</h2>\r\n      <div className=\"about-project__container\">\r\n        <p className=\"about-project__title\">\r\n          Дипломный проект включал 5 этапов\r\n        </p>\r\n        <p className=\"about-project__subtitle\">\r\n          Составление плана, работу над бэкендом, вёрстку, добавление\r\n          функциональности и финальные доработки.\r\n        </p>\r\n        <p className=\"about-project__title\">\r\n          На выполнение диплома ушло 5 недель\r\n        </p>\r\n        <p className=\"about-project__subtitle\">\r\n          У каждого этапа был мягкий и жёсткий дедлайн, которые нужно было\r\n          соблюдать, чтобы успешно защититься.\r\n        </p>\r\n      </div>\r\n      <div className=\"about-project__time\">\r\n        <div className=\"about-project__back\">1 неделя</div>\r\n        <div className=\"about-project__front\">4 недели</div>\r\n        <p className=\"about-project__caption\">Back-end</p>\r\n        <p className=\"about-project__caption\">Front-end</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AboutProject;\r\n","import React from \"react\";\r\nimport \"./Techs.css\";\r\n\r\nfunction Techs() {\r\n  return (\r\n    <div className=\"techs\">\r\n      <h2 className=\"techs__header\">Технологии</h2>\r\n      <h3 className=\"techs__title\">7 технологий</h3>\r\n      <p className=\"techs__subtitle\">\r\n        На курсе веб-разработки мы освоили технологии, которые применили в\r\n        дипломном проекте.\r\n      </p>\r\n      <div className=\"techs__elements\">\r\n        <div className=\"techs__element\">HTML</div>\r\n        <div className=\"techs__element\">CSS</div>\r\n        <div className=\"techs__element\">JS</div>\r\n        <div className=\"techs__element\">React</div>\r\n        <div className=\"techs__element\">Git</div>\r\n        <div className=\"techs__element\">Express.js</div>\r\n        <div className=\"techs__element\">mongoDB</div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Techs;\r\n","export default __webpack_public_path__ + \"static/media/photo.137ba374.jpg\";","import React from \"react\";\r\nimport \"./AboutMe.css\";\r\nimport photo from \"../../images/photo.jpg\";\r\n\r\nfunction AboutMe() {\r\n  return (\r\n    <div className=\"about-me\">\r\n      <h2 className=\"about-me__header\">Студент</h2>\r\n      <div className=\"about-me__container\">\r\n        <h3 className=\"about-me__name\">Анастасия</h3>\r\n        <p className=\"about-me__age\">Фронтенд-разработчик, 18 лет</p>\r\n        <p className=\"about-me__info\">\r\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. \r\n        Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \r\n        Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.\r\n        </p>\r\n        <img className=\"about-me__photo\" src={photo} alt=\"Моё фото\"></img>\r\n        <div className=\"about-me__media\">\r\n          <a\r\n            className=\"about-me__link\"\r\n            href=\"https://www.instagram.com/ndthwm/\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Instagram\r\n          </a>\r\n          <a\r\n            className=\"about-me__link\"\r\n            href=\"https://github.com/gaaganastasia\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Github\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AboutMe;\r\n","export default __webpack_public_path__ + \"static/media/link-icon.2f133fb2.svg\";","import React from \"react\";\r\nimport \"./Portfolio.css\";\r\nimport linkIcon from \"../../images/link-icon.svg\";\r\n\r\nfunction Portfolio() {\r\n  return (\r\n    <div className=\"portfolio\">\r\n      <h2 className=\"portfolio__header\">Портфолио</h2>\r\n      <div className=\"portfolio__link\">\r\n        <a\r\n          className=\"portfolio__text\"\r\n          href=\"https://gaaganastasia.github.io/how-to-learn/\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          Статичный сайт\r\n        </a>\r\n        <img\r\n          src={linkIcon}\r\n          alt=\"Переход по ссылке\"\r\n          className=\"portfolio__icon\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"portfolio__link\">\r\n        <a\r\n          className=\"portfolio__text\"\r\n          href=\"https://gaaganastasia.github.io/russian-travel/\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          Адаптивный сайт\r\n        </a>\r\n        <img\r\n          src={linkIcon}\r\n          alt=\"Переход по ссылке\"\r\n          className=\"portfolio__icon\"\r\n        ></img>\r\n      </div>\r\n      <div className=\"portfolio__link\">\r\n        <a\r\n          className=\"portfolio__text\"\r\n          href=\"https://ndthwm.students.nomoredomains.icu/\"\r\n          target=\"_blank\"\r\n          rel=\"noreferrer\"\r\n        >\r\n          Одностраничное приложение\r\n        </a>\r\n        <img\r\n          src={linkIcon}\r\n          alt=\"Переход по ссылке\"\r\n          className=\"portfolio__icon\"\r\n        ></img>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Portfolio;\r\n","import React from \"react\";\r\nimport Promo from \"../Promo/Promo\";\r\nimport AboutProject from \"../AboutProject/AboutProject\";\r\nimport Techs from \"../Techs/Techs\";\r\nimport AboutMe from \"../AboutMe/AboutMe\";\r\nimport Portfolio from \"../Portfolio/Portfolio\";\r\nfunction Main() {\r\n  return (\r\n    <div className=\"main\">\r\n      <Promo></Promo>\r\n      <AboutProject></AboutProject>\r\n      <Techs></Techs>\r\n      <AboutMe></AboutMe>\r\n      <Portfolio></Portfolio>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"./Preloader.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div className=\"preloader__container\">\r\n        <span className=\"preloader__round\"></span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport \"./FilterCheckbox.css\";\r\n\r\nfunction FilterCheckbox(props) {\r\n  return (\r\n    <div className=\"checkbox\">\r\n      <label className=\"switch\">\r\n        <input\r\n          type=\"checkbox\"\r\n          className=\"checkbox__container\"\r\n          onClick={props.handleCheckboxState}\r\n        ></input>\r\n        <span className=\"slider round\"></span>\r\n      </label>\r\n      <p className=\"checkbox__text\">Короткометражки</p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FilterCheckbox;\r\n","import React from \"react\";\r\nimport FilterCheckbox from \"../FilterCheckbox/FilterCheckbox\";\r\nimport \"./SearchForm.css\";\r\n\r\nfunction SearchForm(props) {\r\n  const movieRef = React.useRef('');\r\n\r\n  const [isValid, setIsValid] = React.useState(true);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!movieRef.current.value || movieRef.current.value === \" \") {\r\n      setIsValid(false);\r\n    } else {\r\n      props.setClickNumber(0);\r\n      props.controlCardsQuantity();\r\n      setIsValid(true);\r\n      props.setErr(false);\r\n      props.setServerErr(false);\r\n\r\n      let movies;\r\n\r\n      if (props.checkboxState) {\r\n        movies = props.movies.filter(\r\n          (movie) =>\r\n            movie.nameRU.toLowerCase().indexOf(movieRef.current.value.toLowerCase()) !== -1 &&\r\n            movie.duration <= 40\r\n        );\r\n      } else {\r\n        movies = props.movies.filter(\r\n          (movie) =>\r\n            movie.nameRU.toLowerCase().indexOf(movieRef.current.value.toLowerCase()) !== -1\r\n        );\r\n      }\r\n\r\n      localStorage.setItem('movies', JSON.stringify(movies));\r\n\r\n      props.setMovies(movies);\r\n      if (movies.length === 0) {\r\n        props.setErr(true);\r\n      }\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"search-form\">\r\n      <form\r\n        method=\"get\"\r\n        action=\"index.html\"\r\n        name=\"search\"\r\n        className=\"search-form__container\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"search-form__field\" htmlFor=\"movie\">\r\n          <input\r\n            name=\"movie\"\r\n            type=\"text\"\r\n            placeholder=\"Фильм\"\r\n            ref={movieRef}\r\n            id=\"movie\"\r\n            className=\"search-form__input search-form__input-movie\"\r\n            required\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              !isValid ? `form__input-error_active` : ``\r\n            }`}\r\n          >\r\n            Нужно ввести ключевое слово\r\n          </span>\r\n        </label>\r\n        <button type=\"submit\" className=\"search-form__submit\">\r\n          Найти\r\n        </button>\r\n      </form>\r\n      <FilterCheckbox\r\n        handleCheckboxState={props.handleCheckboxState}\r\n      ></FilterCheckbox>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchForm;\r\n","import React from \"react\";\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from \"react\";\r\nimport \"./MoviesCard.css\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction MoviesCard(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isSaved = props.savedMovies.some(\r\n    (m) =>\r\n      (m.movieId === props.movie.id || m.movieId === props.movie.movieId) &&\r\n      m.owner === currentUser._id\r\n  );\r\n\r\n  return (\r\n    <div className=\"movie\">\r\n      <p className=\"movie__title\">{props.movie.nameRU}</p>\r\n      <p className=\"movie__duration\">{`${\r\n        Math.trunc(props.movie.duration / 60) === 0\r\n          ? ``\r\n          : `${Math.trunc(props.movie.duration / 60)}ч `\r\n      }${props.movie.duration % 60}м`}</p>\r\n      <button\r\n        type=\"button\"\r\n        className={\r\n          window.location.pathname === \"/movies\"\r\n            ? `movie__save-btn ${isSaved ? \"movie__save-btn_active\" : \"\"}`\r\n            : `movie__delete-btn`\r\n        }\r\n        onClick={props.onSave}\r\n      ></button>\r\n      <a\r\n        href={\r\n          window.location.pathname === \"/movies\"\r\n            ? props.movie.trailerLink\r\n            : props.movie.trailer\r\n        }\r\n        target=\"_blank\"\r\n        rel=\"noreferrer\"\r\n      >\r\n        <img\r\n          src={\r\n            window.location.pathname === \"/movies\"\r\n              ? `https://api.nomoreparties.co${props.movie.image.url}`\r\n              : props.movie.image\r\n          }\r\n          alt={`Кадр из фильма \"${props.movie.nameRU}\"`}\r\n          className=\"movie__img\"\r\n        ></img>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MoviesCard;\r\n","import React from \"react\";\r\nimport MoviesCard from \"../MoviesCard/MoviesCard\";\r\nimport \"./MoviesCardList.css\";\r\n\r\nfunction MoviesCardList(props) {\r\n  React.useEffect(() => {\r\n    props.getSavedMovies();\r\n  }, []);\r\n\r\n  \r\n  return (\r\n    <div className=\"movies__container\">\r\n      {props.checkboxState\r\n        ? props.movies.length !== 0 &&\r\n          props.movies.map((movie, i) => {\r\n            if (\r\n              movie.image &&\r\n              (movie.trailerLink || movie.trailer) &&\r\n              movie.duration <= props.ShortMovieDuration\r\n            ) {\r\n              return (\r\n                <MoviesCard\r\n                  movie={movie}\r\n                  key={movie.movieId || movie.id}\r\n                  onSave={() => props.changeMovieState(movie)}\r\n                  savedMovies={props.savedMovies}\r\n                />\r\n              );\r\n            }\r\n          })\r\n        : props.movies.length !== 0 &&\r\n          props.movies.slice(0, props.cardsQuantity).map((movie, i) => {\r\n            if (movie.image && (movie.trailerLink || movie.trailer)) {\r\n              return (\r\n                <MoviesCard\r\n                  movie={movie}\r\n                  key={i}\r\n                  onSave={() => props.changeMovieState(movie)}\r\n                  savedMovies={props.savedMovies}\r\n                />\r\n              );\r\n            }\r\n          })}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MoviesCardList;\r\n","import React from \"react\";\r\nimport \"./Movies.css\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\n\r\nfunction Movies(props) {\r\n  React.useEffect(() => {\r\n    props.controlCardsQuantity();\r\n  }, [props.screenWidth, props.clickNumber]);\r\n\r\n  React.useEffect(() => {\r\n    props.getMovies();\r\n  }, []);\r\n\r\n  const actualMovies = JSON.parse(localStorage.getItem('movies'));\r\n\r\n  const [searchedMovies, setSearchedMovies] = React.useState(actualMovies ? actualMovies : []);\r\n\r\n  function handleSearchedMovies(movies) {\r\n    setSearchedMovies(movies);\r\n  }\r\n\r\n  const [isNotFoundErrVisible, setIsNotFoundErrVisible] = React.useState(false);\r\n\r\n  function increaseCardsQuantity() {\r\n    props.setClickNumber(props.clickNumber + 1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"movies\">\r\n      <SearchForm\r\n        movies={props.movies}\r\n        getMovies={props.getMovies}\r\n        searchedMovies={searchedMovies}\r\n        setMovies={handleSearchedMovies}\r\n        cardsQuantity={props.cardsQuantity}\r\n        controlCardsQuantity={props.controlCardsQuantity}\r\n        setClickNumber={props.setClickNumber}\r\n        checkboxState={props.checkboxState}\r\n        clickNumber={props.clickNumber}\r\n        setErr={setIsNotFoundErrVisible}\r\n        setServerErr={props.setServerErr}\r\n        handleCheckboxState={props.handleCheckboxState}\r\n      ></SearchForm>\r\n\r\n      {props.isLoading ? (\r\n        <Preloader></Preloader>\r\n      ) : (\r\n        <>\r\n          <h2\r\n            className={`movies__warning ${\r\n              isNotFoundErrVisible ? `movies__warning_visible` : ``\r\n            }`}\r\n          >\r\n            Ничего не найдено\r\n          </h2>\r\n          <h2\r\n            className={`movies__warning ${\r\n              props.serverErr ? `movies__warning_visible` : ``\r\n            }`}\r\n          >\r\n            Во время запроса произошла ошибка. Возможно, проблема с соединением\r\n            или сервер недоступен. Подождите немного и попробуйте ещё раз.\r\n          </h2>\r\n          <MoviesCardList\r\n            movies={searchedMovies}\r\n            cardsQuantity={props.cardsQuantity}\r\n            savedMovies={props.savedMovies}\r\n            getSavedMovies={props.getSavedMovies}\r\n            screenWidth={props.screenWidth}\r\n            setClickNumber={props.setClickNumber}\r\n            checkboxState={props.checkboxState}\r\n            changeMovieState={(movie) => props.changeMovieState(movie)}\r\n            ShortMovieDuration={props.ShortMovieDuration}\r\n          ></MoviesCardList>\r\n        </>\r\n      )}\r\n      <button\r\n        type=\"button\"\r\n        className={`movies__more-btn ${\r\n          searchedMovies.length === 0 ||\r\n          props.isLoading ||\r\n          searchedMovies.length <= props.cardsQuantity\r\n            ? `movies__more-btn_hidden`\r\n            : ``\r\n        }`}\r\n        onClick={increaseCardsQuantity}\r\n      >\r\n        Ещё\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Movies;\r\n","import React from \"react\";\r\nimport \"./SavedMovies.css\";\r\nimport Preloader from \"../Preloader/Preloader\";\r\nimport SearchForm from \"../SearchForm/SearchForm\";\r\nimport MoviesCardList from \"../MoviesCardList/MoviesCardList\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction SavedMovies(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setUsersMovies(props.movies.filter((m) => m.owner === currentUser._id));\r\n  }, [props.movies, currentUser._id]);\r\n\r\n  const [usersMovies, setUsersMovies] = React.useState(\r\n    props.movies.filter(\r\n      (movie) => movie.owner.valueOf() === currentUser._id.valueOf()\r\n    )\r\n  );\r\n\r\n  function handleSearchedMovies(movies) {\r\n    setUsersMovies(\r\n      movies.filter(\r\n        (movie) => movie.owner.valueOf() === currentUser._id.valueOf()\r\n      )\r\n    );\r\n  }\r\n\r\n  const [isNotFoundErrVisible, setIsNotFoundErrVisible] = React.useState(false);\r\n\r\n  return (\r\n    <div className=\"movies\">\r\n      <SearchForm\r\n        movies={props.movies}\r\n        getMovies={props.getMovies}\r\n        setMovies={handleSearchedMovies}\r\n        controlCardsQuantity={props.controlCardsQuantity}\r\n        setClickNumber={props.setClickNumber}\r\n        setErr={setIsNotFoundErrVisible}\r\n        setServerErr={props.setServerErr}\r\n        checkboxState={props.checkboxState}\r\n        handleCheckboxState={props.handleCheckboxState}\r\n      ></SearchForm>\r\n      <h2\r\n        className={`movies__warning ${\r\n          isNotFoundErrVisible && !props.isLoading\r\n            ? `movies__warning_visible`\r\n            : ``\r\n        }`}\r\n      >\r\n        Ничего не найдено\r\n      </h2>\r\n      <h2\r\n        className={`movies__warning ${\r\n          props.serverErr ? `movies__warning_visible` : ``\r\n        }`}\r\n      >\r\n        Во время запроса произошла ошибка. Возможно, проблема с соединением или\r\n        сервер недоступен. Подождите немного и попробуйте ещё раз.\r\n      </h2>\r\n      {props.isLoading ? (\r\n        <Preloader></Preloader>\r\n      ) : (\r\n        <MoviesCardList\r\n          movies={usersMovies}\r\n          //getMovies={props.getMovies}\r\n          //savedUsersMovies={props.savedMovies}\r\n          savedMovies={usersMovies}\r\n          cardsQuantity={props.cardsQuantity}\r\n          getSavedMovies={props.getSavedMovies}\r\n          setClickNumber={props.setClickNumber}\r\n          checkboxState={props.checkboxState}\r\n          screenWidth={props.screenWidth}\r\n          changeMovieState={(movie) => props.changeMovieState(movie)}\r\n          ShortMovieDuration={props.ShortMovieDuration}\r\n        ></MoviesCardList>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SavedMovies;\r\n","import React from \"react\";\r\n\r\nfunction useFormWithValidation() {\r\n  const [values, setValues] = React.useState({});\r\n  const [errors, setErrors] = React.useState({});\r\n  const [isValid, setIsValid] = React.useState(false);\r\n\r\n  const handleChange = (event) => {\r\n    const target = event.target;\r\n    const name = target.name;\r\n    const value = target.value;\r\n    setValues({ ...values, [name]: value });\r\n    setErrors({ ...errors, [name]: target.validationMessage });\r\n    setIsValid(target.closest(\"form\").checkValidity());\r\n  };\r\n\r\n  const resetForm = React.useCallback(\r\n    (newValues = {}, newErrors = {}, newIsValid = false) => {\r\n      setValues(newValues);\r\n      setErrors(newErrors);\r\n      setIsValid(newIsValid);\r\n    },\r\n    [setValues, setErrors, setIsValid]\r\n  );\r\n\r\n  return { values, handleChange, errors, isValid, resetForm };\r\n}\r\n\r\nexport default useFormWithValidation;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport validator from \"../Validator/Validator\";\r\n\r\nimport \"./Profile.css\";\r\n\r\nfunction Profile(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const { values, handleChange, errors, isValid } = validator();\r\n  const [isFormStateActive, setIsFormStateActive] = React.useState(false);\r\n\r\n  function editProfile() {\r\n    setIsFormStateActive(true);\r\n    props.setIsMessageVisible(false);\r\n    props.setMessage('');\r\n    props.setIsErrorVisible(false);\r\n    props.setError('');\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    props.onUpdateUserInfo({\r\n      name: values.name || currentUser.name,\r\n      email: values.email || currentUser.email,\r\n    });\r\n\r\n    setIsFormStateActive(false);\r\n  }\r\n\r\n  function signOut() {\r\n    props.onLogOut();\r\n    localStorage.removeItem(\"jwt\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile\">\r\n      <h2 className=\"profile__title\">{`Привет, ${currentUser.name}`}</h2>\r\n      <form\r\n        className=\"profile-form\"\r\n        name=\"edit-profile\"\r\n        method=\"get\"\r\n        action=\"index.html\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"profile-form__field\">\r\n          <p className=\"profile-form__input-name\">Имя</p>\r\n          <input\r\n            className=\"profile-form__input\"\r\n            name=\"name\"\r\n            placeholder={currentUser.name}\r\n            onChange={handleChange}\r\n            type=\"text\"\r\n            minLength=\"2\"\r\n            id=\"profile-name-input\"\r\n            disabled={!isFormStateActive || props.isFormDisabled}\r\n          ></input>\r\n        </label>\r\n        <span\r\n          className={`form__input-error ${\r\n            errors.name ? `form__input-error_active` : ``\r\n          }`}\r\n          id=\"name-input-error\"\r\n        >\r\n          {errors.name ? errors.name : ``}\r\n        </span>\r\n        <label className=\"profile-form__field\">\r\n          <p className=\"profile-form__input-name\">Почта</p>\r\n          <input\r\n            className=\"profile-form__input\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            placeholder={currentUser.email}\r\n            onChange={handleChange}\r\n            minLength=\"2\"\r\n            id=\"profile-name-input\"\r\n            disabled={!isFormStateActive || props.isFormDisabled}\r\n          ></input>\r\n        </label>\r\n        <span\r\n          className={`form__input-error ${\r\n            errors.email ? `form__input-error_active` : ``\r\n          }`}\r\n          id=\"email-input-error\"\r\n        >\r\n          {errors.email ? errors.email : ``}\r\n        </span>\r\n\r\n        <span\r\n          className={`form__submit-error ${\r\n            props.isErrorVisible || props.isMessageVisible ? `form__submit-error_active` : ``\r\n          }`}\r\n        >\r\n          {props.error || props.message}\r\n        </span>\r\n        <button\r\n          type=\"submit\"\r\n          className={`profile-form__submit ${\r\n            isFormStateActive ? `profile-form__submit_visible` : ``\r\n          } ${\r\n            (isValid &&\r\n            (values.name !== currentUser.name ||\r\n              values.email !== currentUser.email)) ||\r\n              props.isFormDisabled\r\n              ? ``\r\n              : `profile-form__submit_disabled`\r\n          }`}\r\n          disabled={\r\n            !isValid ||\r\n            props.isFormDisabled ||\r\n            (values.name === currentUser.name &&\r\n              values.email === currentUser.email)\r\n          }\r\n        >\r\n          Сохранить\r\n        </button>\r\n      </form>\r\n      <button\r\n        type=\"button\"\r\n        className={`profile__edit ${\r\n          isFormStateActive ? `profile__edit_hidden` : ``\r\n        }`}\r\n        onClick={editProfile}\r\n      >\r\n        Редактировать\r\n      </button>\r\n      <Link\r\n        to=\"/movies-explorer-frontend/\"\r\n        className={`profile__logout ${\r\n          isFormStateActive ? `profile__logout_hidden` : ``\r\n        }`}\r\n        onClick={signOut}\r\n      >\r\n        Выйти из аккаунта\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"./Login.css\";\r\nimport formLogo from \"../../images/header-logo.svg\";\r\nimport validator from \"../Validator/Validator\";\r\n\r\nfunction Login(props) {\r\n  const { values, handleChange, errors, isValid, resetForm } = validator();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!values.email || !values.password) {\r\n      return;\r\n    }\r\n    props.onLogin(values.email, values.password);\r\n\r\n    if (props.error) {\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <img alt=\"Логотип сервиса\" src={formLogo} className=\"form__logo\"></img>\r\n      <h2 className=\"form__header\">Рады видеть!</h2>\r\n      <form\r\n        method=\"post\"\r\n        action=\"index.html\"\r\n        name=\"sign-in\"\r\n        className=\"form__container\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"form__field\" htmlFor=\"email\">\r\n          <p className=\"form__input-title\">E-mail</p>\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={handleChange}\r\n            id=\"email\"\r\n            className=\"form__input form__input-email\"\r\n            required\r\n            disabled={props.isFormDisabled}\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              errors.email ? `form__input-error_active` : ``\r\n            }`}\r\n            id=\"email-input-error\"\r\n          >\r\n            {errors.email ? errors.email : ``}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__field\" htmlFor=\"password\">\r\n          <p className=\"form__input-title\">Пароль</p>\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            minLength=\"8\"\r\n            onChange={handleChange}\r\n            id=\"password\"\r\n            className=\"form__input form__input-password\"\r\n            required\r\n            disabled={props.isFormDisabled}\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              errors.password ? `form__input-error_active` : ``\r\n            }`}\r\n            id=\"password-input-error\"\r\n          >\r\n            {errors.password ? errors.password : ``}\r\n          </span>\r\n        </label>\r\n\r\n        <span\r\n          className={`form__submit-error ${\r\n            props.isErrorVisible ? `form__submit-error_active` : ``\r\n          }`}\r\n        >\r\n          {props.error}\r\n        </span>\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__submit ${isValid && !props.isFormDisabled ? `` : `form__submit_disabled`}`}\r\n          disabled={!isValid && props.isFormDisabled}\r\n        >\r\n          Войти\r\n        </button>\r\n      </form>\r\n      <p className=\"form__caption\">\r\n        Ещё не зарегистрированы?\r\n        <Link to=\"/movies-explorer-frontend/signup\" className=\"form__link\">\r\n          Регистрация\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Login);\r\n","import React from \"react\";\r\nimport { Link, withRouter } from \"react-router-dom\";\r\nimport \"./Register.css\";\r\nimport formLogo from \"../../images/header-logo.svg\";\r\nimport validator from \"../Validator/Validator\";\r\n\r\nfunction Register(props) {\r\n  const { values, handleChange, errors, isValid, resetForm } = validator();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    if (!values.name || !values.email || !values.password) {\r\n      return;\r\n    }\r\n    props.onRegister(values.name, values.email, values.password);\r\n\r\n    if (props.error) {\r\n      resetForm();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"form\">\r\n      <img alt=\"Логотип сервиса\" src={formLogo} className=\"form__logo\"></img>\r\n      <h2 className=\"form__header\">Добро пожаловать!</h2>\r\n      <form\r\n        method=\"post\"\r\n        action=\"index.html\"\r\n        name=\"sign-up\"\r\n        className=\"form__container\"\r\n        onSubmit={handleSubmit}\r\n        noValidate\r\n      >\r\n        <label className=\"form__field\" htmlFor=\"name\">\r\n          <p className=\"form__input-title\">Имя</p>\r\n          <input\r\n            name=\"name\"\r\n            type=\"text\"\r\n            onChange={handleChange}\r\n            minLength=\"2\"\r\n            id=\"name\"\r\n            className=\"form__input form__input-name\"\r\n            required\r\n            disabled={props.isFormDisabled}\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              errors.name ? `form__input-error_active` : ``\r\n            }`}\r\n            id=\"name-input-error\"\r\n          >\r\n            {errors.name ? errors.name : ``}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__field\" htmlFor=\"email\">\r\n          <p className=\"form__input-title\">E-mail</p>\r\n          <input\r\n            name=\"email\"\r\n            type=\"email\"\r\n            onChange={handleChange}\r\n            id=\"email\"\r\n            className=\"form__input form__input-email\"\r\n            required\r\n            disabled={props.isFormDisabled}\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              errors.email ? `form__input-error_active` : ``\r\n            }`}\r\n            id=\"email-input-error\"\r\n          >\r\n            {errors.email ? errors.email : ``}\r\n          </span>\r\n        </label>\r\n        <label className=\"form__field\" htmlFor=\"password\">\r\n          <p className=\"form__input-title\">Пароль</p>\r\n          <input\r\n            name=\"password\"\r\n            type=\"password\"\r\n            minLength=\"8\"\r\n            onChange={handleChange}\r\n            id=\"password\"\r\n            className=\"form__input form__input-password\"\r\n            required\r\n            disabled={props.isFormDisabled}\r\n          ></input>\r\n          <span\r\n            className={`form__input-error ${\r\n              errors.password ? `form__input-error_active` : ``\r\n            }`}\r\n            id=\"password-input-error\"\r\n          >\r\n            {errors.password ? errors.password : ``}\r\n          </span>\r\n        </label>\r\n\r\n        <span\r\n          className={`form__submit-error ${\r\n            props.isErrorVisible ? `form__submit-error_active` : ``\r\n          }`}\r\n        >\r\n          {props.error}\r\n        </span>\r\n        <button\r\n          type=\"submit\"\r\n          className={`form__submit ${isValid && !props.isFormDisabled ? `` : `form__submit_disabled`}`}\r\n          disabled={!isValid && props.isFormDisabled}\r\n        >\r\n          Зарегистрироваться\r\n        </button>\r\n      </form>\r\n      <p className=\"form__caption\">\r\n        Уже зарегистрированы?\r\n        <Link to=\"/movies-explorer-frontend/signin\" className=\"form__link\">\r\n          Войти\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);\r\n","import React from \"react\";\r\nimport \"./Footer.css\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction Footer(props) {\r\n  const year = new Date().getFullYear();\r\n  const { path, url } = useRouteMatch();\r\n\r\n  return (\r\n    <div\r\n      className={`footer ${\r\n        props.history.location.pathname === \"/movies-explorer-frontend/\" ||\r\n        props.history.location.pathname === \"/movies-explorer-frontend/movies\" ||\r\n        props.history.location.pathname === \"/movies-explorer-frontend/saved-movies\"\r\n          ? `footer_visible`\r\n          : ``\r\n      }`}\r\n    >\r\n      <p className=\"footer__text\">\r\n        Учебный проект Яндекс.Практикум х BeatFilm.\r\n      </p>\r\n      <div className=\"footer__caption\">\r\n        <p className=\"footer__year\">&copy; {year}</p>\r\n        <div className=\"footer__links\">\r\n          <a\r\n            href=\"https://praktikum.yandex.ru/\"\r\n            className=\"footer__link\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Яндекс.Практикум\r\n          </a>\r\n          <a\r\n            href=\"https://github.com/gaaganastasia\"\r\n            className=\"footer__link\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Github\r\n          </a>\r\n          <a\r\n            href=\"https://www.instagram.com/ndthwm/\"\r\n            className=\"footer__link\"\r\n            target=\"_blank\"\r\n            rel=\"noreferrer\"\r\n          >\r\n            Instagram\r\n          </a>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport \"./PageNotFound.css\";\r\nimport { useRouteMatch } from \"react-router-dom\";\r\n\r\nfunction PageNotFound(props) {\r\n  const { path, url } = useRouteMatch();\r\n\r\n  function goBack() {\r\n    props.history.goBack();\r\n  }\r\n\r\n  return (\r\n    <div className=\"not-found\">\r\n      <h2 className=\"not-found__code\">404</h2>\r\n      <p className=\"not-found__caption\">Страница не найдена</p>\r\n      <p className=\"not-found__link\" onClick={goBack}>\r\n        Назад\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PageNotFound;\r\n","import React from \"react\";\r\nimport \"./Navigation.css\";\r\nimport { Link } from \"react-router-dom\";\r\nimport accountIcon from \"../../images/profile.svg\";\r\n\r\nfunction Navigation(props) {\r\n  return (\r\n    <div className={`nav ${props.isOpen ? `nav_opened` : ``}`}>\r\n      <div className=\"nav__overlay\"></div>\r\n      <div className=\"nav__container\">\r\n        <button\r\n          className=\"nav__close-btn\"\r\n          type=\"reset\"\r\n          onClick={props.changeState}\r\n        ></button>\r\n        <ul className=\"nav__list\">\r\n          <li className=\"nav__element\">\r\n            <Link\r\n              to=\"/movies-explorer-frontend/\"\r\n              className={`nav__link ${\r\n                window.location.pathname === \"/movies-explorer-frontend/\" ? `nav__link_active` : ``\r\n              }`}\r\n              onClick={props.changeState}\r\n            >\r\n              Главная\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav__element\">\r\n            <Link\r\n              to=\"/movies-explorer-frontend/movies\"\r\n              className={`nav__link ${\r\n                window.location.pathname === \"/movies-explorer-frontend/movies\" ? `nav__link_active` : ``\r\n              }`}\r\n              onClick={props.changeState}\r\n            >\r\n              Фильмы\r\n            </Link>\r\n          </li>\r\n          <li className=\"nav__element\">\r\n            <Link\r\n              to=\"/movies-explorer-frontend/saved-movies\"\r\n              className={`nav__link ${\r\n                window.location.pathname === \"/movies-explorer-frontend/saved-movies\"\r\n                  ? `nav__link_active`\r\n                  : ``\r\n              }`}\r\n              onClick={props.changeState}\r\n            >\r\n              Сохранённые фильмы\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n        <Link to=\"/movies-explorer-frontend/profile\">\r\n          <img\r\n            className=\"nav__account-icon\"\r\n            src={accountIcon}\r\n            alt=\"Иконка аккаунта\"\r\n            onClick={props.changeState}\r\n          ></img>\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Navigation;\r\n","const handleOriginalResponse = (res) => {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n};\r\n\r\nconst handleError = (err) => {\r\n  return err;\r\n};\r\n\r\nclass Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getInitialMovies() {\r\n    return fetch(`${this._url}`, {\r\n      //movies\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n        //Authorization: `Bearer ${localStorage.getItem('jwt')}`,\r\n      },\r\n    })\r\n      .then(handleOriginalResponse)\r\n      .catch(handleError);\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://api.nomoreparties.co/beatfilm-movies\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    Accept: \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","class Api {\r\n  constructor(options) {\r\n    this._url = options.url;\r\n    this._headers = options.headers;\r\n  }\r\n\r\n  getSavedMovies() {\r\n    return fetch(`${this._url}/movies`, {\r\n      //movies\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  getUsers() {\r\n    return fetch(`${this._url}/users`, {\r\n      //movies\r\n      method: \"GET\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  saveMovie(movie) {\r\n    return fetch(`${this._url}/movies`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n      body: JSON.stringify({\r\n        country: String(movie.country),\r\n        director: String(movie.director),\r\n        duration: Number(movie.duration),\r\n        year: String(movie.year),\r\n        description: String(movie.description),\r\n        nameRU: String(movie.nameRU),\r\n        nameEN: String(movie.nameEN || \"nameEN\"),\r\n        movieId: Number(movie.id),\r\n        image: String(`https://api.nomoreparties.co${movie.image.url}`),\r\n        trailer: String(movie.trailerLink),\r\n        thumbnail: String(\r\n          `https://api.nomoreparties.co${movie.image.formats.thumbnail.url}`\r\n        ),\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  deleteMovie(id) {\r\n    return fetch(`${this._url}/movies/${id}`, {\r\n      method: \"DELETE\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  setProfileInfo(userEmail, userName) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"PATCH\",\r\n      headers: {\r\n        ...this._headers,\r\n        Authorization: `Bearer ${localStorage.getItem(\"jwt\")}`,\r\n      },\r\n      body: JSON.stringify({\r\n        email: userEmail,\r\n        name: userName,\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  register(name, email, password) {\r\n    return fetch(`${this._url}/signup`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        name: String(name),\r\n        email: String(email),\r\n        password: String(password),\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          return data;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  authorize(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      method: \"POST\",\r\n      headers: this._headers,\r\n      body: JSON.stringify({\r\n        email: String(email),\r\n        password: String(password),\r\n      }),\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        if (data.token) {\r\n          localStorage.setItem(\"jwt\", data.token);\r\n          return data;\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  checkToken(jwt) {\r\n    return fetch(`${this._url}/users/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${jwt}`,\r\n      },\r\n    })\r\n      .then((res) => {\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        return data;\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n}\r\n\r\nconst api = new Api({\r\n  url: \"https://gaaganastasia.github.io/movies-explorer-api\",\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n    Accept: \"application/json\",\r\n  },\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? <Component {...props} /> : <Redirect to=\"./\" />\r\n      }\r\n    </Route>\r\n  );\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React from \"react\";\r\nimport { Redirect, Route, Switch, useHistory, useParams } from \"react-router-dom\";\r\nimport Header from \"../Header/Header\";\r\nimport Main from \"../Main/Main\";\r\nimport Movies from \"../Movies/Movies\";\r\nimport SavedMovies from \"../SavedMovies/SavedMovies\";\r\nimport Profile from \"../Profile/Profile\";\r\nimport Login from \"../Login/Login\";\r\nimport Register from \"../Register/Register\";\r\nimport Footer from \"../Footer/Footer\";\r\nimport PageNotFound from \"../PageNotFound/PageNotFound\";\r\nimport \"./App.css\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\nimport moviesApi from \"../../utils/MoviesApi\";\r\nimport mainApi from \"../../utils/MainApi\";\r\nimport { CurrentUserContext } from \"../../contexts/CurrentUserContext\";\r\nimport ProtectedRoute from \"../ProtectedRoute/ProtectedRoute\";\r\n\r\nimport {\r\n  ShortMovieDuration,\r\n  DesktopMoviesNumber,\r\n  MobileMoviesNumber\r\n} from '../../utils/constants';\r\n\r\nfunction App() {\r\n  const history = useHistory();\r\n\r\n  const [loggedIn, setLoggedIn] = React.useState(false);\r\n\r\n  const [currentUser, setCurrentUser] = React.useState({\r\n    name: \"\",\r\n    email: \"\",\r\n  });\r\n\r\n  const [error, setError] = React.useState(\"\");\r\n  const [isErrorVisible, setIsErrorVisible] = React.useState(false);\r\n\r\n  function tokenCheck() {\r\n    if (localStorage.getItem(\"jwt\")) {\r\n      const jwt = localStorage.getItem(\"jwt\");\r\n      mainApi\r\n        .checkToken(jwt)\r\n        .then((res) => {\r\n          setCurrentUser(res);\r\n          setLoggedIn(true);\r\n        })\r\n        .catch((err) => {\r\n          return err;\r\n        });\r\n    }\r\n  }\r\n\r\n  const [isFormDisabled, setIsFormDisabled] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    tokenCheck();\r\n  }, [loggedIn]);\r\n\r\n  function handleLogin(email, password) {\r\n    setError(\"\");\r\n    setIsErrorVisible(false);\r\n    setIsFormDisabled(true);\r\n\r\n    mainApi\r\n      .authorize(email, password)\r\n      .then((res) => {\r\n        if (res.token) {\r\n          setLoggedIn(true);\r\n          history.push(\"/movies-explorer-frontend/movies\");\r\n          setError(\"\");\r\n          setIsErrorVisible(false);\r\n        }\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        setError(\"Вы ввели неправильный логин или пароль.\");\r\n        setIsErrorVisible(true);\r\n        return err;\r\n      })\r\n      .finally(() => {\r\n        setIsFormDisabled(false);\r\n      })\r\n  }\r\n\r\n  function handleSignUp(name, email, password) {\r\n    setError(\"\");\r\n    setIsErrorVisible(false);\r\n    setIsFormDisabled(true);\r\n\r\n    mainApi\r\n      .register(name, email, password)\r\n      .then((res) => {\r\n        if (res.message) {\r\n          setError(\"При регистрации пользователя произошла ошибка.\");\r\n          setIsErrorVisible(true);\r\n        }\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      })\r\n      .finally(() => {\r\n        setIsFormDisabled(false);\r\n\r\n        mainApi\r\n          .authorize(email, password)\r\n          .then((res) => {\r\n            if (res.token) {\r\n              setLoggedIn(true);\r\n              history.push(\"/movies-explorer-frontend/movies\");\r\n              setError(\"\");\r\n              setIsErrorVisible(false);\r\n            }\r\n            return res;\r\n          })\r\n          .catch((err) => {\r\n            setError(\"При регистрации пользователя произошла ошибка.\");\r\n            setIsErrorVisible(true);\r\n            return err;\r\n          });\r\n      });\r\n  }\r\n\r\n  function handleLogOut() {\r\n    setLoggedIn(false);\r\n    localStorage.removeItem('movies');\r\n    history.push(\"/movies-explorer-frontend/\");\r\n  }\r\n\r\n  const [isNavOpen, setNavState] = React.useState(false);\r\n  const changeNavState = () => {\r\n    setNavState(!isNavOpen);\r\n  };\r\n\r\n  const [movies, setMovies] = React.useState([]);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n  const [serverErr, setServerErr] = React.useState(false);\r\n\r\n  function getMovies() {\r\n    setIsLoading(true);\r\n\r\n    moviesApi\r\n      .getInitialMovies()\r\n      .then((initialMovies) => {\r\n        setMovies(initialMovies);\r\n      })\r\n      .catch((err) => {\r\n        setServerErr(true);\r\n        return err;\r\n      })\r\n      .finally(() => {\r\n        setIsLoading(false);\r\n      });\r\n  }\r\n\r\n  const [savedMovies, setSavedMovies] = React.useState([]);\r\n\r\n  function getSavedMovies() {\r\n    mainApi\r\n      .getSavedMovies()\r\n      .then((movies) => {\r\n        setSavedMovies(movies.reverse());\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      });\r\n  }\r\n\r\n  function handleMovieState(movie) {\r\n    const isSaved = savedMovies.some(\r\n      (m) =>\r\n        (m.movieId === movie.id || m.movieId === movie.movieId) &&\r\n        m.owner === currentUser._id\r\n    );\r\n\r\n    if (isSaved) {\r\n      mainApi\r\n        .deleteMovie(\r\n          movie._id || savedMovies.find((m) => m.movieId === movie.id)._id\r\n        )\r\n        .then((newMovie) => {\r\n          setSavedMovies(\r\n            savedMovies.filter(\r\n              (m) =>\r\n                m.movieId !== newMovie.movieId && m.owner === currentUser._id\r\n            )\r\n          );\r\n        });\r\n    } else {\r\n      mainApi.saveMovie(movie).then((newMovie) => {\r\n        setSavedMovies([newMovie, ...savedMovies]);\r\n      });\r\n    }\r\n  }\r\n\r\n  const [message, setMessage] = React.useState('');\r\n  const [isMessageVisible, setIsMessageVisible] = React.useState(false);\r\n\r\n  function handleUpdateUserInfo(data) {\r\n    setIsFormDisabled(true);\r\n\r\n    mainApi\r\n      .setProfileInfo(data.email, data.name)\r\n      .then((res) => {\r\n        if (res.message) {\r\n          setError(\"При обновлении профиля произошла ошибка.\");\r\n          setIsErrorVisible(true);\r\n        } else {\r\n          setCurrentUser(res);\r\n          setError(\"\");\r\n          setIsErrorVisible(false);\r\n          setMessage('Данные профиля успешно обновлены.');\r\n          setIsMessageVisible(true);\r\n        }\r\n        return res;\r\n      })\r\n      .catch((err) => {\r\n        return err;\r\n      })\r\n      .finally(() => {\r\n        setIsFormDisabled(false);\r\n      })\r\n  }\r\n\r\n  const [screenWidth, setScreenWidth] = React.useState(window.innerWidth);\r\n\r\n  function getScreenWidth() {\r\n    setScreenWidth(window.innerWidth);\r\n  }\r\n\r\n  function handleScreenWidth() {\r\n    window.addEventListener(\"resize\", getScreenWidth);\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setTimeout(handleScreenWidth, 10000);\r\n  }, [screenWidth]);\r\n\r\n  const [cardsQuantity, setCardsQuantity] = React.useState(0);\r\n  const [clickNumber, setClickNumber] = React.useState(0);\r\n\r\n  React.useEffect(() => {\r\n    setClickNumber(clickNumber);\r\n  }, [clickNumber]);\r\n\r\n  function controlCardsQuantity() {\r\n    let n;\r\n\r\n    if (screenWidth >= 1280) {\r\n      n = 12 + clickNumber * DesktopMoviesNumber;\r\n    } else if (screenWidth < 1280 && screenWidth >= 768) {\r\n      n = 8 + clickNumber * MobileMoviesNumber;\r\n    } else if (screenWidth < 768) {\r\n      n = 5 + clickNumber * MobileMoviesNumber;\r\n    }\r\n\r\n    return setCardsQuantity(n);\r\n  }\r\n\r\n  const [checkboxState, setCheckboxState] = React.useState(false);\r\n\r\n  function handleCheckboxState() {\r\n    setCheckboxState(!checkboxState);\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <Header\r\n          changeNavState={changeNavState}\r\n          loggedIn={loggedIn}\r\n          history={history}\r\n        />\r\n        <Switch>\r\n          <Route exact path=\"/movies-explorer-frontend/\">\r\n            {loggedIn ? <Redirect to=\"movies\" /> : <Main></Main>}\r\n          </Route>\r\n\r\n          <ProtectedRoute\r\n            path=\"/movies-explorer-frontend/profile\"\r\n            component={loggedIn ? Profile : Main}\r\n            loggedIn={loggedIn}\r\n            onLogOut={handleLogOut}\r\n            history={history}\r\n            onUpdateUserInfo={handleUpdateUserInfo}\r\n            error={error}\r\n            setError={setError}\r\n            setIsErrorVisible={setIsErrorVisible}\r\n            isErrorVisible={isErrorVisible}\r\n            message={message}\r\n            setMessage={setMessage}\r\n            isMessageVisible={isMessageVisible}\r\n            setIsMessageVisible={setIsMessageVisible}\r\n            isFormDisabled={isFormDisabled}\r\n          ></ProtectedRoute>\r\n\r\n          <ProtectedRoute\r\n            path=\"/movies-explorer-frontend/movies\"\r\n            component={loggedIn ? Movies : Main}\r\n            loggedIn={loggedIn}\r\n            isLoading={isLoading}\r\n            setClickNumber={setClickNumber}\r\n            clickNumber={clickNumber}\r\n            savedMovies={savedMovies}\r\n            controlCardsQuantity={controlCardsQuantity}\r\n            cardsQuantity={cardsQuantity}\r\n            movies={movies}\r\n            serverErr={serverErr}\r\n            setServerErr={setServerErr}\r\n            checkboxState={checkboxState}\r\n            handleCheckboxState={handleCheckboxState}\r\n            changeMovieState={(movie) => handleMovieState(movie)}\r\n            getMovies={getMovies}\r\n            getSavedMovies={getSavedMovies}\r\n            screenWidth={screenWidth}\r\n            ShortMovieDuration={ShortMovieDuration}\r\n          ></ProtectedRoute>\r\n\r\n          <ProtectedRoute\r\n            path=\"/movies-explorer-frontend/saved-movies\"\r\n            component={loggedIn ? SavedMovies : Main}\r\n            movies={savedMovies}\r\n            isLoading={isLoading}\r\n            setClickNumber={setClickNumber}\r\n            clickNumber={clickNumber}\r\n            serverErr={serverErr}\r\n            setServerErr={setServerErr}\r\n            checkboxState={checkboxState}\r\n            handleCheckboxState={handleCheckboxState}\r\n            loggedIn={loggedIn}\r\n            changeMovieState={(movie) => handleMovieState(movie)}\r\n            getSavedMovies={getSavedMovies}\r\n            getMovies={getMovies}\r\n            screenWidth={screenWidth}\r\n            controlCardsQuantity={controlCardsQuantity}\r\n            cardsQuantity={cardsQuantity}\r\n            ShortMovieDuration={ShortMovieDuration}\r\n          ></ProtectedRoute>\r\n\r\n          <Route path=\"/movies-explorer-frontend/signin\">\r\n            {loggedIn ? (\r\n              <Redirect to=\"movies\" />\r\n            ) : (\r\n              <Login\r\n                history={history}\r\n                loggedIn={loggedIn}\r\n                error={error}\r\n                isErrorVisible={isErrorVisible}\r\n                onLogin={handleLogin}\r\n                //tokenCheck={tokenCheck}\r\n                isFormDisabled={isFormDisabled}\r\n              ></Login>\r\n            )}\r\n          </Route>\r\n\r\n          <Route path=\"/movies-explorer-frontend/signup\">\r\n            {loggedIn ? (\r\n              <Redirect to=\"movies\" />\r\n            ) : (\r\n              <Register\r\n                history={history}\r\n                error={error}\r\n                isErrorVisible={isErrorVisible}\r\n                onRegister={handleSignUp}\r\n                isFormDisabled={isFormDisabled}\r\n              ></Register>\r\n            )}\r\n          </Route>\r\n\r\n          <Route path=\"*\">\r\n            <PageNotFound history={history}></PageNotFound>\r\n          </Route>\r\n        </Switch>\r\n\r\n        <Navigation\r\n          isOpen={isNavOpen}\r\n          changeState={changeNavState}\r\n        ></Navigation>\r\n        <Footer \r\n          history={history} \r\n        />\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","export const ShortMovieDuration = 40;\r\n\r\nexport const DesktopMoviesNumber = 3;\r\nexport const MobileMoviesNumber = 2;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}